# Chrome Cookie 設定檔管理器

這是一個專為開發者設計的 Chrome 擴充功能，核心功能是讓您能夠輕鬆建立、儲存、載入和管理多組不同的 Cookie 設定檔。在需要頻繁切換不同使用者帳號或測試不同使用者情境的網站上，這個工具可以大幅提升您的工作效率。

## 核心功能

*   **跨裝置同步 (Cloud Sync)**: 使用 `chrome.storage.sync` API，讓您在不同電腦上登入同一個 Chrome 帳號時，可以自動同步所有設定檔。
*   **多設定檔管理**: 儲存多組 Cookie 集合，並為它們命名，方便快速識別與切換。
*   **一鍵載入與套用**: 從彈出介面選擇一個設定檔，即可一鍵將該設定檔中的所有 Cookie 應用到當前頁面。
*   **從當前頁面建立**: 快速將當前頁面的所有 Cookie 儲存為一個新的設定檔。
*   **從字串建立**: 直接貼上 `key=value; ...` 格式的 Cookie 字串來建立新的設定檔。
*   **編輯與預覽**: 在套用前，可以預覽、新增或刪除設定檔中的單個 Cookie。
*   **匯入與匯出**: 以 JSON 格式輕鬆匯出您的設定檔，方便備份或與團隊成員分享。
*   **清除頁面 Cookie**: 一鍵清除當前頁面的所有 Cookie，方便重新開始。

## 安裝與設定

由於此擴充功能尚在開發中，您需要手動載入它：

1.  開啟 Chrome 瀏覽器，在網址列輸入 `chrome://extensions` 並前往。
2.  啟用頁面右上角的 **「開發人員模式」**。
3.  點擊左上方的 **「載入未封裝項目」**。
4.  在彈出的對話框中，選擇此專案的根目錄（包含 `manifest.json` 檔案的目錄）。
5.  完成後，擴充功能圖示將會出現在 Chrome 工具列上。

## 如何使用

1.  點擊 Chrome 工具列上的擴充功能圖示，即可開啟彈出式介-面。
2.  **管理設定檔**: 在「設定檔管理」分頁，您可以選擇已儲存的設定檔並點擊「載入」，或刪除不需要的設定檔。
3.  **編輯與建立**:
    *   在「編輯器 & 建立」分頁，您可以查看當前載入的 Cookie，或手動建立新的設定檔。
    *   點擊「儲存目前設定檔的變更」來更新已載入的設定檔。
    *   點擊「將目前分頁的 Cookie 存為新設定檔」來快速建立。
    *   貼上 Cookie 字串並命名，即可從字串建立。
4.  **工具**: 在「工具」分頁，您可以匯出所選的設定檔，或從 JSON 檔案匯入。

## 技術細節

*   **資料同步**: 本擴充功能使用 `chrome.storage.sync` API 來儲存您的設定檔。這使得您的資料可以透過 Google 帳號在多個裝置之間自動同步。
*   **儲存結構**: 為了規避 `chrome.storage.sync` 對單一項目 8KB 的大小限制，我們採用了拆分儲存的策略。每一個 Cookie 設定檔都作為一個獨立的項目儲存（例如 `profile_我的設定檔`），同時維護一個名為 `profile_list` 的陣列來追蹤所有設定檔的名稱。這種結構確保了擴充功能即使在儲存大量或大型設定檔時也能保持穩定。

## 專案結構

```
/
├── manifest.json         # 擴充功能的核心設定檔
├── popup.html            # 彈出視窗的 HTML 結構
├── popup.css             # 彈出視窗的樣式表
├── js/
│   ├── main.js           # 主要邏輯、進入點與資料遷移
│   ├── editor.js         # Cookie 編輯與套用邏輯
│   ├── profiles.js       # 設定檔的載入、儲存與刪除
│   ├── state.js          # 全域狀態管理 (DOM 參照與變數)
│   ├── tabs.js           # 彈出視窗內的分頁切換邏輯
│   ├── tools.js          # 匯入/匯出等工具
│   └── ui.js             # UI 渲染與更新邏輯
├── images/               # 存放圖示與其他圖片資源
└── README.md             # 本說明文件
```